When you "rewrite history" in Git (such as amending a commit, rebasing, etc.), what actually happens is that you are NOT rewriting the history. Instead, the old history stays as-is, and Git creates a "new history" out of the old one that contains the changes that you want, and Git moves the pointers around (branches, etc.) to "make it look like" the it has rewritten the history.

Source: This [awesome video][Scott Chacon Video Presentation] presentation by Scott Chacon.

[Scott Chacon Video Presentation]: https://youtu.be/ZDR433b0HJY?t=629
